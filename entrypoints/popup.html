<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sharpen english comprehension</title>
  <link rel="stylesheet" href="/popup.css">
</head>
<body>
      <!-- Toggle Switch with Finger Icon -->
  <div class="toggle-container">
    <img src="/arrow-right.svg" alt="arrow" class="finger-point">
    <label class="toggle-switch">
      <input type="checkbox" id="extensionToggle">
      <span class="toggle-slider"></span>
    </label>
  </div>

  
  <!-- Loading State -->
  <div class="loading-state" id="loadingState">
    <div class="loading-icon">
      <svg class="loader-spinner" width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="18" fill="none" stroke="#9527F5" stroke-width="3" stroke-linecap="round" stroke-dasharray="113" stroke-dashoffset="56.5">
          <animate attributeName="stroke-dasharray" dur="1.5s" values="0 113;56.5 56.5;0 113;0 113" repeatCount="indefinite"/>
          <animate attributeName="stroke-dashoffset" dur="1.5s" values="0;-56.5;-113;-113" repeatCount="indefinite"/>
        </circle>
      </svg>
    </div>
    <p class="loading-text">Page is loading</p>
  </div>

  <!-- Normal Content (hidden by default) -->
  <div class="normal-content" id="normalContent">
    <!-- Title -->
    <div class="title-container">
      <img src="/branding-removebg.png" alt="XplainO" class="branding-img">
    </div>

    <!-- User profile information -->
    <div class="user-profile-container" id="userProfileContainer">
      <!-- Error Banner (hidden by default) -->
      <div class="error-banner" id="errorBanner" style="display: none;">
        <span class="error-message" id="errorMessage"></span>
        <button class="error-close" id="errorClose">&times;</button>
      </div>

      <!-- Not Logged In State -->
      <div class="signin-container" id="signinContainer" style="display: none;">
        <button class="signin-with-google" id="signinWithGoogle">
          <svg class="google-logo" width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
            <g fill="none" fill-rule="evenodd">
              <path d="M17.64 9.2045c0-.6381-.0573-1.2518-.1636-1.8409H9v3.4814h4.8436c-.2086 1.125-.8427 2.0782-1.7959 2.7164v2.2581h2.9087c1.7028-1.5668 2.6836-3.874 2.6836-6.615z" fill="#4285F4"/>
              <path d="M9 18c2.43 0 4.4673-.806 5.9564-2.1805l-2.9087-2.2581c-.8059.54-1.8368.859-3.0477.859-2.344 0-4.3282-1.5831-5.036-3.7104H.9574v2.3318C2.4382 15.9832 5.4822 18 9 18z" fill="#34A853"/>
              <path d="M3.964 10.71c-.18-.54-.2822-1.1173-.2822-1.71s.1022-1.17.2823-1.71V4.9582H.9573C.3477 6.1732 0 7.5477 0 9s.348 2.8268.9573 4.0418l3.0067-2.3318z" fill="#FBBC05"/>
              <path d="M9 3.5795c1.3214 0 2.5077.4541 3.4405 1.3459l2.5813-2.5814C13.4632.8918 11.426 0 9 0 5.4822 0 2.4382 2.0168.9573 4.9582L3.964 7.29C4.6718 5.1627 6.6559 3.5795 9 3.5795z" fill="#EA4335"/>
            </g>
          </svg>
          <span>Sign in with Google</span>
        </button>
      </div>

      <!-- Logged In State -->
      <div class="user-info-container" id="userInfoContainer" style="display: none;">
        <div class="user-profile-content">
          <img src="" alt="User profile" class="user-picture" id="userPicture">
          <div class="user-greeting">
            <p class="greeting-text" id="greetingText">Hello, User!</p>
          </div>
          <button class="logout-button" id="logoutButton" title="Logout">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke="#9527F5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <polyline points="16 17 21 12 16 7" stroke="#9527F5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <line x1="21" y1="12" x2="9" y2="12" stroke="#9527F5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="/popup.js"></script>
</body>
</html>

